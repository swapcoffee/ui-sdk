<template>
  <transition name="slide">
    <div class="notification">
      <div class="notification__group">
        <svg
          class="notification__icon error-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M12 16.7308C12.2288 16.7308 12.4207 16.6533 12.5755 16.4985C12.7303 16.3437 12.8077 16.1518 12.8077 15.923C12.8077 15.6942 12.7303 15.5023 12.5755 15.3475C12.4207 15.1928 12.2288 15.1155 12 15.1155C11.7712 15.1155 11.5793 15.1928 11.4245 15.3475C11.2697 15.5023 11.1923 15.6942 11.1923 15.923C11.1923 16.1518 11.2697 16.3437 11.4245 16.4985C11.5793 16.6533 11.7712 16.7308 12 16.7308ZM12.0003 13.077C12.2129 13.077 12.391 13.0051 12.5345 12.8613C12.6782 12.7176 12.75 12.5395 12.75 12.327V7.827C12.75 7.6145 12.6781 7.43633 12.5343 7.2925C12.3904 7.14883 12.2122 7.077 11.9998 7.077C11.7871 7.077 11.609 7.14883 11.4655 7.2925C11.3218 7.43633 11.25 7.6145 11.25 7.827V12.327C11.25 12.5395 11.3219 12.7176 11.4658 12.8613C11.6096 13.0051 11.7878 13.077 12.0003 13.077ZM12.0017 21.5C10.6877 21.5 9.45267 21.2507 8.2965 20.752C7.14033 20.2533 6.13467 19.5766 5.2795 18.7218C4.42433 17.8669 3.74725 16.8617 3.24825 15.706C2.74942 14.5503 2.5 13.3156 2.5 12.0017C2.5 10.6877 2.74933 9.45267 3.248 8.2965C3.74667 7.14033 4.42342 6.13467 5.27825 5.2795C6.13308 4.42433 7.13833 3.74725 8.294 3.24825C9.44967 2.74942 10.6844 2.5 11.9983 2.5C13.3123 2.5 14.5473 2.74933 15.7035 3.248C16.8597 3.74667 17.8653 4.42342 18.7205 5.27825C19.5757 6.13308 20.2528 7.13833 20.7518 8.294C21.2506 9.44967 21.5 10.6844 21.5 11.9983C21.5 13.3123 21.2507 14.5473 20.752 15.7035C20.2533 16.8597 19.5766 17.8653 18.7218 18.7205C17.8669 19.5757 16.8617 20.2528 15.706 20.7518C14.5503 21.2506 13.3156 21.5 12.0017 21.5Z"
            fill="#FF5449"
          />
        </svg>
        <svg
          class="notification__icon success-icon"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M12 2.25C10.0716 2.25 8.18657 2.82183 6.58319 3.89317C4.97982 4.96451 3.73013 6.48726 2.99218 8.26884C2.25422 10.0504 2.06114 12.0108 2.43735 13.9021C2.81355 15.7934 3.74215 17.5307 5.10571 18.8943C6.46928 20.2579 8.20656 21.1865 10.0979 21.5627C11.9892 21.9389 13.9496 21.7458 15.7312 21.0078C17.5127 20.2699 19.0355 19.0202 20.1068 17.4168C21.1782 15.8134 21.75 13.9284 21.75 12C21.7473 9.41498 20.7192 6.93661 18.8913 5.10872C17.0634 3.28084 14.585 2.25273 12 2.25ZM16.2806 10.2806L11.0306 15.5306C10.961 15.6004 10.8783 15.6557 10.7872 15.6934C10.6962 15.7312 10.5986 15.7506 10.5 15.7506C10.4014 15.7506 10.3038 15.7312 10.2128 15.6934C10.1218 15.6557 10.039 15.6004 9.96938 15.5306L7.71938 13.2806C7.57865 13.1399 7.49959 12.949 7.49959 12.75C7.49959 12.551 7.57865 12.3601 7.71938 12.2194C7.86011 12.0786 8.05098 11.9996 8.25 11.9996C8.44903 11.9996 8.6399 12.0786 8.78063 12.2194L10.5 13.9397L15.2194 9.21937C15.2891 9.14969 15.3718 9.09442 15.4628 9.0567C15.5539 9.01899 15.6515 8.99958 15.75 8.99958C15.8486 8.99958 15.9461 9.01899 16.0372 9.0567C16.1282 9.09442 16.2109 9.14969 16.2806 9.21937C16.3503 9.28906 16.4056 9.37178 16.4433 9.46283C16.481 9.55387 16.5004 9.65145 16.5004 9.75C16.5004 9.84855 16.481 9.94613 16.4433 10.0372C16.4056 10.1282 16.3503 10.2109 16.2806 10.2806Z"
            fill="#55FF85"
          />
        </svg>
        <span class="notification__text">
          <slot />
        </span>
      </div>
      <svg
        class="notification__close"
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 16 16"
        fill="none"
        @click="$emit('closeCopyNotification')"
      >
        <path
          d="M12.8538 12.1463C12.9002 12.1927 12.9371 12.2479 12.9622 12.3086C12.9874 12.3693 13.0003 12.4343 13.0003 12.5C13.0003 12.5657 12.9874 12.6308 12.9622 12.6915C12.9371 12.7521 12.9002 12.8073 12.8538 12.8538C12.8073 12.9002 12.7522 12.9371 12.6915 12.9622C12.6308 12.9873 12.5657 13.0003 12.5 13.0003C12.4343 13.0003 12.3693 12.9873 12.3086 12.9622C12.2479 12.9371 12.1927 12.9002 12.1463 12.8538L8.00003 8.70688L3.85378 12.8538C3.75996 12.9476 3.63272 13.0003 3.50003 13.0003C3.36735 13.0003 3.2401 12.9476 3.14628 12.8538C3.05246 12.7599 2.99976 12.6327 2.99976 12.5C2.99976 12.3673 3.05246 12.2401 3.14628 12.1463L7.29316 8L3.14628 3.85375C3.05246 3.75993 2.99976 3.63269 2.99976 3.5C2.99976 3.36732 3.05246 3.24007 3.14628 3.14625C3.2401 3.05243 3.36735 2.99973 3.50003 2.99973C3.63272 2.99973 3.75996 3.05243 3.85378 3.14625L8.00003 7.29313L12.1463 3.14625C12.2401 3.05243 12.3674 2.99973 12.5 2.99973C12.6327 2.99973 12.76 3.05243 12.8538 3.14625C12.9476 3.24007 13.0003 3.36732 13.0003 3.5C13.0003 3.63269 12.9476 3.75993 12.8538 3.85375L8.70691 8L12.8538 12.1463Z"
          fill="white"
        />
      </svg>
    </div>
  </transition>
</template>

<script lang="ts">
export default {
  name: 'AppNotification',
  data() {
    return {};
  },
};
</script>

<style scoped>
.slide-enter-active,
.slide-leave-active {
  transition: 0.2s ease-out;
}

.slide-enter-from,
.slide-leave-to {
  margin-bottom: -100px;
}

.notification {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--iface-white4);
  background: var(--iface-white8);
  box-shadow: 0 4px 60px 0 rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  position: fixed;
  bottom: 12px;
  left: 50%;
  z-index: 999;
  min-width: 256px;
  transform: translateX(-50%);
  max-height: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-family: Harmony-Medium, sans-serif;
  font-size: 12px;
}

.notification__group {
  display: flex;
  align-items: center;
}

.notification__icon {
  margin-right: 12px;
}

.notification__text {
  color: var(--main-text-color);
}

.notification__close {
  margin-left: 12px;
  cursor: pointer;
}

.error-icon {
  display: none;
}

.error .error-icon {
  display: block;
}

.error .success-icon {
  display: none;
}

svg path {
  transition: 0.2s;
  fill: var(--main-text-color);
}

.success-icon path {
  transition: 0.2s;
  fill: var(--main-green);
}

.error-icon path {
  transition: 0.2s;
  fill: var(--main-red);
}
</style>
